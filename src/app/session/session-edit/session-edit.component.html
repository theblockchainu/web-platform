<div class="main-content" style="background: #fff; padding: 0px; min-height: 100vh;">
  <mat-sidenav-container style="max-height: 90vh; min-height: 100vh; overflow-y: scroll">
    <mat-sidenav mode="side" opened="true">
      <app-left-sidebar [menuFile]="sidebarFilePath" (menuArray)="getMenuArray($event)"></app-left-sidebar>
    </mat-sidenav>
    <!-- Page Content -->
    <div class="navbar-page-content" style="padding: 25px 50px; background: #fff; max-height: 100vh; min-height: 100vh; overflow-y: scroll">
      <div class="pull-right" *ngIf="step!=1 && step !=5 && step !=12 && session.controls['status'].value !== 'active'">
        <button mat-button (click)="saveandexit()">
          <span *ngIf="!busySave">Save &amp; Exit</span>
          <span *ngIf="busySave"> </span>
          <ngx-loading [show]="busySave"></ngx-loading>
        </button>
      </div>
      <div class="pull-right" *ngIf="step!=1 && step !=5 && step !=12 && session.controls['status'].value === 'active'">
        <button mat-button (click)="exit()">Exit</button>
      </div>
      <div class="pull-right" *ngIf="step!=1 && step !=5 && step !=12">
        <button mat-button (click)="openSession()">
          <span *ngIf="!busyPreview">Preview</span>
          <span *ngIf="busyPreview"> </span>
          <ngx-loading [show]="busyPreview"></ngx-loading>
        </button>
      </div>
      <div class="pull-left">
        <mat-chip-list>
          <mat-chip>
            {{session.controls['status'].value | titlecase}}
          </mat-chip>
        </mat-chip-list>
      </div>
      <br/>
      <br/>
      <br/>
      <!--Disclaimer-->
      <div class="onboarding step-1" [hidden]="step!=1">
        <div class="row">
          <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
            <h2 class="title">Peerbuds Session Guidelines</h2>
            <p class="subtitle">We value the quality of content taught on Peerbuds platform and expect all session hosts to follow strict guidelines
              towards their content.
            </p>
            <ol class="guideline-points text-grey">
              <li>Respect Others</li>
              <li>Respect Others</li>
              <li>Respect Others</li>
              <li>Respect Others</li>
            </ol>
            <div class="margin-top-20">
              <button mat-raised-button (click)="goto(2)" color="accent" class="pull-right">
                <span *ngIf="!busyBasics">Continue</span>
                <span *ngIf="busyBasics"> </span>
                <ngx-loading [show]="busyBasics"></ngx-loading>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix">
        <!-- step 1 starts here -->
        <div class="onboarding step-2" [hidden]="step!=2">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">We are glad that you want to teach</h2>
              <p class="subtitle">Complete this information</p>
              <br/>
              <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
                <div class="row">
                  <div class="col-sm-12 margin-bottom-30">
                    <div class="row">
                      <div class="col-sm-12">
                        <h3>Profile Credentials</h3>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <mat-form-field [floatLabel]="'always'" class="pb-block" style="margin-bottom: 20px">
                          <input matInput #title formControlName="headline" maxlength="50" placeholder="Theoritical Physicist, American Expat in Germany ... ">
                          <mat-hint align="start">{{50 - profileForm.controls['headline'].value.length}} more characters needed</mat-hint>
                          <mat-hint align="end">{{profileForm.controls['headline'].value.length}} / 50</mat-hint>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <mat-form-field [floatLabel]="'always'" class="pb-block" style="margin-bottom: 20px">
                          <input matInput #title formControlName="description" maxlength="50" placeholder="Give a short description about yourself">
                          <mat-hint align="start">{{50 - profileForm.controls['description'].value.length}} more characters needed</mat-hint>
                          <mat-hint align="end">{{profileForm.controls['description'].value.length}} / 50</mat-hint>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>
                <div style="margin-top:60px;">
                  <!-- <a mat-button (click)=goto(1)>Back</a> -->
                  <span class="pull-right" matTooltip="A brief description about yourself is mandatory to continue" [matTooltipDisabled]="profileForm.controls['headline'].value.length !== 0 && profileForm.controls['description'].value.length !== 0  ">
                    <button mat-raised-button color="accent" type="Submit" [disabled]="profileForm.controls['headline'].value.length === 0 || profileForm.controls['description'].value.length === 0  ">
                      <span *ngIf="!busyHost">Continue</span>
                      <span *ngIf="busyHost"> </span>
                      <ngx-loading [show]="busyHost"></ngx-loading>
                    </button>
                  </span>
                </div>
              </form>
            </div>
          </div>
        </div>

        <div class="onboarding step-3" [hidden]="step!=3">
          <div class="row">
            <div style="margin-top:20px;" class="col-md-12">
              <div class="row" style="margin-right: 20px;">
                <p class="profilePhotoHeading">
                  Profile Photo
                </p>

                <div class="loading-container" [hidden]="!uploadingImage">
                  <ngx-loading [show]="true"></ngx-loading>
                </div>
                <p-fileUpload *ngIf="!uploadingImage" #fubauto name="image" customUpload="true" (uploadHandler)="uploadImage($event)" maxFileSize="10000000"
                  accept="image/*" chooseLabel="Browse" (onRemove)="deleteFromContainerArr($event)">
                  <ng-template pTemplate="toolbar">
                    <div style="font-size: 80%; margin-top: 5px;">You can upload a maximum of 1 image</div>
                  </ng-template>
                </p-fileUpload>
                <h5>Max File Size
                  <b>10MB</b>
                </h5>
                <!-- <div *ngFor="let pp of profile_picture_array"  class="profilePic"> -->
                <div *ngIf="picture_url" class="profilePic delete">
                  <img class="uploaded_picture" src="{{envVariable.apiUrl + picture_url}}" width="150" style="border: 0.5px solid #ccc">
                  <mat-icon (click)="deleteFromContainer(picture_url, 'image')" class="delete-button">close</mat-icon>
                  <!-- <button mat-button class="setPP" (click)="setProfilePic(pp, 'image')">Set as profile pic</button> -->
                </div>
                <!-- </div> -->
                <div class="lighterText mat-caption">
                  Clear frontal face is an important way for teachers and learners to know about each other.
                  <br> Its not much fun to teach a landscape. Please load a photo that clearly shows your face.
                </div>

                <hr>

                <p class="profilePhotoHeading">
                  Profile Video
                </p>
                <div class="loading-container" [hidden]="!uploadingVideo">
                  <ngx-loading [show]="true"></ngx-loading>
                </div>
                <p-fileUpload *ngIf="!uploadingVideo" #fubauto name="video" customUpload="true" (uploadHandler)="uploadVideo($event)" maxFileSize="10000000"
                  accept="video/*" chooseLabel="Browse" (onRemove)="deleteFromContainerArr($event)">
                  <ng-template pTemplate="toolbar">
                    <div style="font-size: 80%; margin-top: 5px;">You can upload a maximum of 1 videos</div>
                  </ng-template>

                </p-fileUpload>
                <h5>Max File Size
                  <b>10MB</b>
                </h5>

                <div *ngIf="profile_video" class="profileVideo delete">
                  <video width="150" class="uploaded_picture" preload="metadata">
                    <source src="{{envVariable.apiUrl + profile_video}}"> Your browser does not support the video tag.
                  </video>
                  <mat-icon (click)="deleteFromContainer(profile_video, 'video')" class="delete-button">close</mat-icon>
                </div>
                <div class="darkText mat-body-1">
                  Tell the community a bit about yourself
                </div>
                <div class="lighterText mat-caption">
                  Start with your name and answer some of the following questions, or make up some of your own.

                  <ul>
                    <li>We love close-ups, but we suggest you sit at arm's length.</li>
                    <li>You've got 30 seconds so do your best to be concise.</li>
                    <li>Try to keep the light in front of you, not behind you.</li>
                    <li>Look into the camera to create that personal connection.</li>
                    <li>You'll get a chance to preview your video before it uploads.</li>

                  </ul>
                </div>
              </div>
              <span class="pull-right" matTooltip="A brief description about yourself is mandatory to continue" [matTooltipDisabled]="picture_url || profile_video">
                <button mat-raised-button color="accent" (click)="nextStep()" [disabled]="!picture_url && !profile_video">
                  <span *ngIf="!busyHost">Continue</span>
                  <span *ngIf="busyHost"> </span>
                  <ngx-loading [show]="busyHost"></ngx-loading>
                </button>
              </span>
            </div>
          </div>
        </div>
        <!-- step 4 ends here  -->
        <div class="onboarding step-4" [hidden]="step!=4">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Tell us more about yourself</h2>
              <p class="subtitle">You'll write your description in this language and students will expect you to speak it during sessions.</p>
              <ng4geo-autocomplete class="geoLocation" required [userSettings]="userSettings" (componentCallback)="autoCompleteCallback($event)"></ng4geo-autocomplete>
              <div class="pb-block">
                <agm-map [latitude]="profileForm.controls['location_lat'].value" [longitude]="profileForm.controls['location_lng'].value"
                  [usePanning]="true" [zoom]="14" [scrollwheel]="false" [disableDoubleClickZoom]="true" [zoomControl]="false"
                  [streetViewControl]="false">
                  <agm-marker [latitude]="profileForm.controls['location_lat'].value" [longitude]="profileForm.controls['location_lng'].value"></agm-marker>
                </agm-map>
              </div>
              <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
                <div class="row margin-top-60" formArrayName="other_languages" *ngFor="let control of profileForm.controls['other_languages']['controls']; let i=index">
                  <mat-form-field [floatLabel]="'always'">
                    <input type="text" style="border-bottom: 0px;" placeholder="Select Language" matInput [formControlName]="i" [matAutocomplete]="auto">
                  </mat-form-field>
                </div>
                <a (click)="addLanguageField()"> Add language</a>
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option *ngFor="let language of filteredOptions" [value]="language.name">
                    {{ language.name }}
                  </mat-option>
                </mat-autocomplete>
                <div style="margin-top:100px;">
                  <!-- <a mat-button (click)=goto(2)>Back</a> -->
                  <span class="pull-right">
                    <button mat-raised-button color="accent" type="Submit">
                      <span *ngIf="!busyLanguage">Continue</span>
                      <span *ngIf="busyLanguage"> </span>
                      <ngx-loading [show]="busyLanguage"></ngx-loading>
                    </button>
                  </span>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!--Disclaimer-->
        <div class="onboarding step-5" [hidden]="step!=5">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Highlight your credentials</h2>
              <p class="subtitle">
                Share your resume with learner to give them confidence on your teaching capabilities.
              </p>
              <br/>
              <form [formGroup]="workForm" (ngSubmit)="saveWorkEducation()">
                <div formArrayName="work" class="well well-lg">
                  <div class="mat-body-2" style="margin-bottom: 25px;">
                    Work Experience
                  </div>
                  <div *ngFor="let workObj of workForm.controls['work']['controls']; let i=index" [formGroupName]="i" class="margin-bottom-10">
                    <mat-form-field [floatLabel]="'always'" style="margin-right:10px;">
                      <input matInput formControlName="position" type="text" style="border-bottom: 0px;" placeholder="Position">
                      <!-- <mat-error>This field is required</mat-error> -->
                    </mat-form-field>
                    <mat-form-field [floatLabel]="'always'">
                      <input matInput formControlName="company" type="text" style="border-bottom: 0px;" placeholder="Company">
                      <!-- <mat-error>This field is required</mat-error> -->
                    </mat-form-field>
                    <mat-form-field [floatLabel]="'always'" style="margin-right:10px;" [ngClass]="{'customWidth30': i == 0, 'customWidth33': i > 0}">
                      <input matInput formControlName="startDate" [matDatepicker]="startPicker" placeholder="Start Date">
                      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                      <mat-datepicker #startPicker></mat-datepicker>
                    </mat-form-field>
                    <!-- <mat-error>This field is required</mat-error> -->
                    <mat-form-field [floatLabel]="'always'" style="margin-right:10px;" [ngClass]="{ 'customWidth30': i == 0, 'customWidth33': i > 0}">
                      <!--'disabled': disableEndDate,-->
                      <input matInput formControlName="endDate" [matDatepicker]="endPicker" placeholder="End Date">
                      <!--[ngClass]="{'disabled': disableEndDate}"-->
                      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                      <!--[ngClass]="{'disabled': disableEndDate}"-->
                      <mat-datepicker #endPicker></mat-datepicker>
                    </mat-form-field>
                    <mat-checkbox [hidden]="i>0" class="presentlyWorking" formControlName="presentlyWorking" (click)="toggleEndDate()">Presently working</mat-checkbox>
                    <i class="mati mati-close-circle matiIcon pull-right darkColor" (click)="deleteWork(i)" style="cursor: pointer;"></i>
                  </div>
                </div>
                <div style="margin-top:-5px;margin-bottom:5px; cursor: pointer" (click)="addWork()">
                  <a style="font-size: 12px">+ Add another work detail</a>
                </div>
                <div style="margin-bottom: 25px;" class="mat-body-2 margin-top-40">
                  Education
                </div>
                <div formArrayName="education">
                  <div *ngFor="let educationObj of workForm.controls['education']['controls']; let i = index" [formGroupName]="i" class="margin-bottom-10">
                    <mat-form-field [floatLabel]="'always'" style="margin-right:10px;">
                      <input matInput formControlName="degree" type="text" style="border-bottom: 0px;" placeholder="Degree">
                      <!-- <mat-error>This field is required</mat-error> -->
                    </mat-form-field>
                    <mat-form-field [floatLabel]="'always'" style="margin-right:10px;">
                      <input matInput formControlName="school" type="text" style="border-bottom: 0px;" placeholder="School / College">
                      <!-- <mat-error>This field is required</mat-error> -->
                    </mat-form-field>
                    <mat-form-field [floatLabel]="'always'">                 <mat-select placeholder="Start Year" style="margin-bottom: 20px;margin-right:10px;" formControlName="startYear" [ngClass]="{'customWidth30': i == 0, 'customWidth33': i > 0}">
                      <mat-option *ngFor="let syear of years" [value]="syear">{{syear}}</mat-option>
                    </mat-select>               </mat-form-field>
                    <mat-form-field [floatLabel]="'always'">                 <mat-select placeholder="End Year" style="margin-bottom: 20px;margin-right:10px;" formControlName="endYear" [ngClass]="{'customWidth30': i == 0, 'customWidth33': i > 0}">
                      <!--'disabled': disableEndYearBool,-->
                      <mat-option *ngFor="let eyear of years" [value]="eyear">{{eyear}}</mat-option>
                    </mat-select>               </mat-form-field>
                    <mat-checkbox [hidden]="i>0" class="presentlyWorking" formControlName="presentlyPursuing" (click)="disableEndYear()">Presently pursuing</mat-checkbox>

                    <i class="mati mati-close-circle matiIcon pull-right darkColor" (click)="deleteEducation(i)" style="cursor: pointer;"></i>
                  </div>
                </div>
                <button class="pull-right" mat-raised-button color="accent" type="Submit">
                  Continue
                </button>
              </form>
              <div style="margin-top:-5px;margin-bottom:5px; cursor: pointer" (click)="addEducation()">
                <a style="font-size: 12px">+ Add another education detail</a>
              </div>

            </div>
          </div>
        </div>
        <!-- Step 6 - Title -->
        <div class="onboarding step-6" [hidden]="step!=6">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Update your profile sections learners will see</h2>
              <p class="subtitle">Write in a clear, straightforward and friendly way. We will give you tips on when to show off your personality
                and be more descriptive.</p>
              <button mat-raised-button color="accent" (click)="nextStep()">
                Continue
              </button>
            </div>
          </div>
        </div>
        <!-- step 7 - Description  -->
        <div class="onboarding step-7" [hidden]="step!=7">
          <div class="row">
            <div class="col-sm-12 margin-bottom-30">
              <h2 class="title">Whta topics are you passsionate about teaching?</h2>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <form [formGroup]="interest1" (ngSubmit)="submitInterests()">
                <div class="row">
                  <div class="col-sm-12 margin-bottom-30">
                    <div class="row">
                      <div class="col-sm-12">
                        <app-multiselect-autocomplete (selectedOutput)="selected($event)" (removedOutput)="removed($event)" [preSelectedTopics]=interests
                          [searchUrl]=searchTopicURL [create]=true [createURL]=createTopicURL [title]=placeholderStringTopic
                          [maxSelection]=maxTopics [minSelection]="1"></app-multiselect-autocomplete>
                      </div>
                    </div>
                    <div class="row">
                      <span class="col-sm-4" style="font-size: 12px; color: #777">{{maxTopicMsg}}</span>
                    </div>
                  </div>
                </div>
                <div style="margin-top:60px;">
                  <!-- <a mat-button (click)=goto(1)>Back</a> -->
                  <span class="pull-right" matTooltip="Add at least one interest to continue" [matTooltipDisabled]="interests.length !== 0">
                    <button mat-raised-button color="accent" (click)="interests.length == 0 || submitInterests()" [disabled]="interests.length == 0">
                      <span *ngIf="!busyInterest">Continue</span>
                      <span *ngIf="busyInterest"> </span>
                      <ngx-loading [show]="busyInterest"></ngx-loading>
                    </button>
                  </span>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!-- step 8 Difficulty Level-->
        <div class="onboarding step-8" [hidden]="step!=8">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">What experience do you have in each of your selected Topics?</h2>
              <div class="review-section" *ngFor="let topic of relTopics">
                <form #f="ngForm">
                  <div class="topic-name col-md-8 padding-left-0">
                    <span class="col-md-9 padding-left-0 mat-body-2">{{topic.name |titlecase}}</span>
                  </div>
                  <i [ngClass]="{'mati mati-content-save matiIcon darkColor pull-left alignDelete':true, 'disabledSpan': (!f.form.controls.experience?.dirty && !f.form.controls.experience?.touched) }"
                    (click)="updateChanges('teaching', topic)" style="cursor: pointer;"></i>
                  <i class="mati mati-close-circle matiIcon darkColor pull-left alignDelete" (click)="unfollowTopic('teaching', topic)" style="cursor: pointer;"></i>
                  <div class="topic-experience col-md-8 padding-left-0">
                    <mat-form-field [floatLabel]="'always'" style="margin-bottom: 20px; width:100%" #experienceContainer>
                      <textarea matInput #experience name="experience" rows="3" class="form-control" [(ngModel)]="topic.experience" placeholder="How much do you know this topic?"
                        required></textarea>
                      <mat-error>This field is required</mat-error>
                      <mat-hint align="end">{{experience.value.length}} / 1000</mat-hint>
                    </mat-form-field>
                  </div>
                </form>
              </div>
              <div style="margin-top:60px;">
                <!-- <a mat-button (click)=goto(7)>Back</a> -->
                <span class="pull-right" matTooltip="Please fill all the details" [matTooltipDisabled]="session.controls['difficultyLevel'].value && session.controls['notes'].value">
                  <button mat-raised-button color="accent" (click)="nextStep()">
                    Continue
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
        <!-- Step 9 - Max Spots -->
        <div class="onboarding step-9" [hidden]="step!=9">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">What i'll provide? </h2>
              <p class="subtitle">Let your learners know what you will provide in a session. </p>
              <form [formGroup]="provisionForm" (ngSubmit)="saveProvision()">
                <div formArrayName="provisions">
                  <div *ngFor="let provisionObj of provisionForm.controls['provisions']['controls']; let i=index" [formGroupName]="i" class="margin-bottom-10">
                    <mat-form-field [floatLabel]="'always'">
                      <input matInput style="border-bottom: 0px;" formControlName="text" type="text">
                    </mat-form-field>
                  </div>
                </div>
                <a (click)="addProvisionField()"> Add Item</a>
                <div style="margin-top:100px;">
                  <span class="pull-right">
                    <button mat-raised-button color="accent" type="submit">
                      Continue
                    </button>
                  </span>
                </div>
              </form>

            </div>
          </div>
        </div>
        <!-- step 10 Photos -->
        <div class="onboarding step-10" [hidden]="step!=10">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Select your available time slots</h2>
              <p class="subtitle">General weekly teaching availability. Let students set up appointments with you if they are stuck.</p>
              <mat-radio-group [(ngModel)]="calendarEvent">
                <mat-radio-button value="add">Add</mat-radio-button>
                <mat-radio-button value="delete">delete</mat-radio-button>
              </mat-radio-group>
              <p-schedule [events]="events" [eventOverlap]="false" [defaultView]="'agendaWeek'" [editable]="true" (onDayClick)="handleDayClick($event)"
                (onEventClick)="handleEventClick($event)" (onEventDrop)="updateEvent($event)" (onEventResize)="updateEvent($event)"></p-schedule>
            </div>
          </div>
          <div class="row">
            <button class="pull-right" mat-raised-button color="accent" (click)="submitAvailability()">
              Continue
            </button>
          </div>
        </div>
        <!-- step 11 - Price -->
        <div class="onboarding step-11" [hidden]="step!=11">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <form [formGroup]="packageForm" (ngSubmit)="submitPackages()">
                <h2 class="title">Create your price and package</h2>
                <h3 class="title">Trial</h3>
                <div formGroupName="trialPackage">
                  <div class="row">
                    <div class="col-md-3">
                      <mat-checkbox formControlName="isFree">Free</mat-checkbox>
                    </div>
                  </div>
                  <div class="row margin-left-0" *ngIf="!packageForm.controls['trialPackage']['controls']['isFree'].value">
                    <div class="col-md-3 padding-left-0">
                      <mat-form-field [floatLabel]="'always'" class="margin-top-20">
                        <input type="number" matInput #price formControlName="price" placeholder="0" min="1" required>
                      </mat-form-field>
                    </div>
                    <div class="col-md-2 col-md-offset-2 priceAlignParent">
                      <mat-form-field [floatLabel]="'always'">                 <mat-select formControlName="currency" class="priceAlign padding-top-0 margin-top-20" placeholder="USD">
                        <mat-option *ngFor="let c of currencies" [value]="c">{{c}}</mat-option>
                      </mat-select>               </mat-form-field>
                    </div>
                  </div>
                  <h3 class="title">Duration (each) </h3>
                  <div class="row margin-left-0">
                    <div class="col-sm-12 padding-left-0">
                      <mat-form-field [floatLabel]="'always'">                 <mat-select formControlName="duration" style="margin: 20px 10px; position: relative; top: -5px;" placeholder="3 Days">
                        <mat-option *ngFor="let d of availableDurations" [value]="d.value">{{d.text}}</mat-option>
                      </mat-select>               </mat-form-field>
                    </div>
                  </div>
                  <h3 class="title">Cancellation Policy</h3>
                  <div class="row margin-left-0">
                    <div class="col-sm-12 padding-left-0">
                      Students will get full refund if they cancel within
                      <mat-form-field [floatLabel]="'always'">                 <mat-select formControlName="cancellationPolicy" style="margin: 20px 10px; position: relative; top: -5px;" placeholder="3 Days">
                        <mat-option *ngFor="let cp of cancellationPolicies" [value]="cp">{{cp}}</mat-option>
                      </mat-select>               </mat-form-field>
                      days of signing up.
                    </div>
                  </div>
                </div>
                <h3 class="title">Package</h3>
                <div formArrayName="paidPackages">
                  <div *ngFor="let formObj of packageForm.controls['paidPackages']['controls']; let i = index" [formGroupName]="i">
                    <div class="row">
                      <i class="mati mati-close-circle matiIcon darkColor pull-right alignDelete" (click)="deletePackage(i)" style="cursor: pointer;"></i>
                      <div class="col-md-3">
                        <mat-checkbox formControlName="isFree">Free</mat-checkbox>
                      </div>
                    </div>
                    <div class="row margin-left-0" *ngIf="!packageForm.controls['paidPackages']['controls'][i]['controls']['isFree'].value">
                      <div class="col-md-3 padding-left-0">
                        <mat-form-field [floatLabel]="'always'" class="margin-top-20">
                          <input type="number" matInput #price formControlName="price" placeholder="0" min="1" required>
                        </mat-form-field>
                      </div>
                      <div class="col-md-2 col-md-offset-2 priceAlignParent">
                        <mat-form-field [floatLabel]="'always'">                 <mat-select formControlName="currency" class="priceAlign padding-top-0 margin-top-20" placeholder="USD">
                          <mat-option *ngFor="let c of currencies" [value]="c">{{c}}</mat-option>
                        </mat-select>               </mat-form-field>
                      </div>
                    </div>
                    <h3 class="title">Duration (each) </h3>
                    <div class="row margin-left-0">
                      <div class="col-sm-12 padding-left-0">
                        <mat-form-field [floatLabel]="'always'">                 <mat-select formControlName="duration" style="margin: 20px 10px; position: relative; top: -5px;" placeholder="3 Days">
                          <mat-option *ngFor="let d of availableDurations" [value]="d.value">{{d.text}}</mat-option>
                        </mat-select>               </mat-form-field>
                      </div>
                    </div>
                    <h3 class="title">Cancellation Policy</h3>
                    <div class="row margin-left-0">
                      <div class="col-sm-12 padding-left-0">
                        Students will get full refund if they cancel within
                        <mat-form-field [floatLabel]="'always'">                 <mat-select formControlName="cancellationPolicy" style="margin: 20px 10px; position: relative; top: -5px;" placeholder="3 Days">
                          <mat-option *ngFor="let cp of cancellationPolicies" [value]="cp">{{cp}}</mat-option>
                        </mat-select>               </mat-form-field>
                        days of signing up.
                      </div>
                    </div>
                    <span class="pull-right" matTooltip="Enter a price you wish to charge for this session and its cancellation policy" [matTooltipDisabled]="session.controls['price'].value && session.controls['currency'].value  && session.controls['cancellationPolicy'].value">
                      <a (click)="deletePackage(i)"></a>
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <a (click)="addPackages()"> Add Paid packages </a>
                  </div>
                </div>
                <div style="margin-top:100px;">
                  <!-- <a mat-button (click)=goto(10)>Back</a> -->
                  <span class="pull-right">
                    <button mat-raised-button color="accent" type="Submit">Continue</button>
                  </span>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!--Step 12 - Disclaimer-->
        <div class="onboarding step-12" [hidden]="step!=12">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Setup your live session preferences</h2>
              <form [formGroup]="session">
                <p class="subtitle">Recieve reservations in the most suitable manner and market your profile with a custom URL.</p>
                <div style="margin-top:60px;">
                  <!-- <a mat-button (click)=goto(11)>Back</a> -->
                  <button class="pull-right" mat-raised-button color="accent" (click)="goto(13)">Continue</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!--Step 13 - Itinerary-->
        <div class="onboarding step-13" [hidden]="step!=13">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">What works for you</h2>
              <p class="subtitle">
                Do you want learners to book with you instantly or you want to accept/decline?
              </p>
              <form [formGroup]="preferencesForm" (ngSubmit)="savePreferences()">
                <mat-radio-group formControlName="bookingProcess">
                  <mat-radio-button value="auto">Book instantly</mat-radio-button>
                  <mat-radio-button value="manual">Accept/Decline</mat-radio-button>
                </mat-radio-group>
                <button class="pull-right" mat-raised-button color="accent" type="submit">Continue</button>
              </form>

            </div>
          </div>
        </div>
        <!--Step 14 - Submit for review-->
        <div class="onboarding step-14" [hidden]="step!=14">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Custom Url</h2>
              <div class="subtitle">Select custom URL for your page</div>
              <form [formGroup]="preferencesForm" (ngSubmit)="savePreferences()">
                <mat-form-field [floatLabel]="'always'">
                  <input type="text" style="border-bottom: 0px;" matInput #price formControlName="customUrl">
                  <span matPrefix>peerbuds.com/</span>
                </mat-form-field>
                <button class="pull-right" mat-raised-button color="accent" type="submit">Continue</button>
              </form>
            </div>
          </div>
        </div>
        <div class="onboarding step-15" [hidden]="step!=15">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Review and submit</h2>
              <div *ngIf="!isSubmitted">
                <div style="margin-top:40px;">
                  <mat-checkbox value="val1" [(ngModel)]="selectedValues[0]">You meet our standards.</mat-checkbox>
                </div>
                <div style="margin-top:20px;">
                  <mat-checkbox value="val2" [(ngModel)]="selectedValues[1]">You agree to our terms and conditions.</mat-checkbox>
                </div>
                <span class="pull-right" matTooltip="You need to agree to Peerbuds community terms to submit this session for approval" [matTooltipDisabled]="selectedValues[0] && selectedValues[1]">
                  <button mat-raised-button color="accent" (click)="submitForReview();" [disabled]="!selectedValues[0] || !selectedValues[1]">
                    Submit for Review</button>
                </span>
              </div>
              <div *ngIf="isSubmitted" style="margin-top: 70px;">
                Your session has been submitted for review and is awaiting approval from Peerbuds team.
                <br>
                <br> We maintain highest possible standards for all content shared on Peerbuds platform.
              </div>
            </div>
          </div>
        </div>
        <div class="onboarding step-16" [hidden]="step!=16">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Finishing Touches</h2>
              <div class="subtitle">Add Finishing touches</div>
              <!-- <form [formGroup]="paymentInfo "> -->
              <div style="margin-top:10px; ">
                <!--<button mat-raised-button>PayTM</button> &emsp;-->
                <button color="accent" class="pull-right" (click)="nextStep()" mat-raised-button>
                  Continue
                </button>
                <!--<button mat-raised-button>Paypal</button> &emsp;-->
              </div>
              <!-- </form> -->
            </div>
          </div>
        </div>
        <div class="onboarding step-17" [hidden]="step!=17">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Do you want to provide your phone number to learners?</h2>
              <div class="subtitle">Phone numbers make it easy for learners to reach out to you in case of urgent queries.</div>
              <form [formGroup]="phoneDetails">
                <div style="margin-top:50px;">
                  <mat-radio-group>
                    <mat-radio-button class="pb-block margin-bottom-20" name="phone" value="1" (click)="toggleChoice(1)" *ngIf="!isPhoneVerified">Yes</mat-radio-button>
                    <div *ngIf="selectedOption === 1 || isPhoneVerified" style="margin: 20px 0px 30px 0px;">
                      <mat-form-field [floatLabel]="'always'" class="pb-block" style="margin: 20px 0px;">
                        <input type="tel" matInput #phoneNo formControlName="phoneNo" placeholder="Enter Phone Number" [readOnly]="true">
                        <mat-hint *ngIf="!isPhoneVerified">We will send the confirmation code on your mobile</mat-hint>
                        <mat-hint *ngIf="isPhoneVerified">Update your phone number from profile to change it for this session</mat-hint>
                      </mat-form-field>
                      <button mat-raised-button #sendOtpButton color="accent" (click)="submitPhoneNo($event.target, 'Sending OTP...')" *ngIf="!isPhoneVerified">
                        Send OTP
                      </button>
                      <button mat-raised-button #sendOtpButton color="accent" *ngIf="isPhoneVerified">
                        <mat-icon mat-prefix style="margin-top: -12px; margin-right: 5px; color: white;">check_circle</mat-icon> Phone Verified
                      </button>
                    </div>
                    <div *ngIf="otpSent && !isPhoneVerified" style="margin: 20px 0px 50px 0px;">
                      <p>Type the 4 digit verification code</p>
                      <mat-form-field [floatLabel]="'always'" class="pb-block inputOTP" style="margin: 20px 0px;">
                        <input type="text" style="border-bottom: 0px;" matInput #inputOTP formControlName="inputOTP" placeholder="OTP">
                      </mat-form-field>
                      <button mat-raised-button color="accent" (click)="submitOTP()">Confirm OTP</button>
                    </div>
                    <mat-radio-button class="pb-block margin-bottom-20" name="phone" value="0" (click)="toggleChoice(0)" *ngIf="!isPhoneVerified">No, thanks</mat-radio-button>
                  </mat-radio-group>
                </div>
                <span class="pull-right" matTooltip="Please verify your phone number to continue" [matTooltipDisabled]="selectedOption !==-1 || isPhoneVerified">
                  <button mat-raised-button (click)="takeToPayment()" color="accent" [disabled]="selectedOption ===-1 && !isPhoneVerified">
                    <span *ngIf="!busyPayment">Continue</span>
                    <span *ngIf="busyPayment"> </span>
                    <ngx-loading [show]="busyPayment"></ngx-loading>
                  </button>
                </span>
              </form>
            </div>
          </div>
        </div>
        <div class="onboarding step-18" [hidden]="step!=18">
          <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
              <h2 class="title">Connect Payment Option</h2>
              <div class="subtitle">Choose from available payout options or add a new one</div>
              <div class="row loading-container" style="padding-top: 10px; padding-bottom: 10px;" *ngIf="payoutLoading">
                <ngx-loading [show]="true"></ngx-loading>
              </div>
              <div class="margin-top-30" *ngIf="!payoutLoading && payoutAccounts && payoutAccounts.length > 0" style="padding-top: 5px; padding-bottom: 15px">
                <span class="mat-body-2">
                  Connect existing account
                </span>
              </div>
              <div class="row table" *ngIf="!payoutLoading">
                <div class="col-md-10">
                  <div class="row table-header">
                    <div class="col-md-3 ">
                      <b>Method</b>
                    </div>
                    <div class="col-md-3">
                      <b>Details</b>
                    </div>
                    <div class="col-md-3">
                      <b>Status</b>
                    </div>
                  </div>
                  <div class="row table-data">
                    <hr>
                    <div class="col-md-12">
                      <ng-container *ngIf="!addingAccount && payoutAccounts">
                        <form [formGroup]="paymentInfo">
                          <mat-radio-group formControlName="id">
                            <div class="row" *ngFor="let account of payoutAccounts" style="padding-top: 5px; padding-bottom: 5px">
                              <div class="col-md-3" [ngSwitch]="account.external_accounts.data[0].object">
                                <b *ngSwitchCase="'card'">Card</b>
                                <b *ngSwitchCase="'bank_account'">Bank Account</b>
                              </div>
                              <div class="col-md-3" [ngSwitch]="account.external_accounts.data[0].object">
                                <span *ngSwitchCase="'card'">**** **** **** {{account.external_accounts.data[0].last4}}</span>
                                <span *ngSwitchCase="'bank_account'">{{account.external_accounts.data[0].account_holder_name}}
                                  <br>{{account.external_accounts.data[0].bank_name}} </span>
                              </div>
                              <div class="col-md-3">
                                <b *ngIf="account.external_accounts.data[0].status">{{account.external_accounts.data[0].status | titlecase}}</b>
                                <b *ngIf="!account.external_accounts.data[0].status">Ready</b>
                              </div>
                              <div class="col-md-3">
                                <mat-radio-button value="{{account.payoutaccount.id}}">
                                </mat-radio-button>
                              </div>
                            </div>
                          </mat-radio-group>
                        </form>

                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
              <div class="margin-top-30" style="padding-top: 5px; padding-bottom: 15px" *ngIf="!payoutLoading">
                <span class="mat-body-2">
                  Add new payout account
                </span>
              </div>
              <!-- <form [formGroup]="paymentInfo "> -->
              <div style="margin-top:10px; " *ngIf="!payoutLoading">
                <!--<button mat-raised-button>PayTM</button> &emsp;-->
                <button mat-raised-button>
                  <a [href]="connectPaymentUrl">
                    <img src="../../../assets/images/stripe.png" style="width: 50px;" />
                  </a>
                </button> &emsp;
                <!--<button mat-raised-button>Paypal</button> &emsp;-->
              </div>
              <!-- </form> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </mat-sidenav-container>
</div>